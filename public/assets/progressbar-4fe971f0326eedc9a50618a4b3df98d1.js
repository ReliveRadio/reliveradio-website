// starts & ends are two Date objects that are passed in from the index view!
$(function(){function e(){var e=starts.getTime(),t=ends.getTime(),n=(new Date).getTime(),r=Math.abs(t-e),i=Math.abs(n-e),s=i/r*100,o=Math.floor(100-s),u=Math.abs(t-n);$(".liveprogress").each(function(){$(this).width(s+"%")}),$(".timeleft").each(function(){$(this).text(Math.floor(u/60/1e3))}),$(".percentplayed").each(function(){$(this).text(Math.floor(s)+"%")}),$(".percentleft").each(function(){$(this).text(o+"%")})}e();var t=1e4;window.setInterval(function(){e();var t=new Date;t>ends&&$.get("/",null,e,"script")},t)});